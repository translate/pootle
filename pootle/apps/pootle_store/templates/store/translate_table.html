{% load i18n baseurl store_tags cache locale %}
{% get_current_language as LANGUAGE_CODE %}
<div class="translate-form">
    <div id="pootle_path" class="hide">{{ store.pootle_path }}</div>
    <div id="directory" class="hide">{{ directory.pootle_path }}</div>
    <div id="target_lang" class="hide">{{ language.code }}</div>
    <noscript>
      <h1>{% trans "Pootle's editor requires JavaScript" %}</h1>
      <p>{% trans "Please enable JavaScript in your browser preferences and reload the page." %}</p>
    </noscript>
    <table cellpadding="0" cellspacing="0" class="translate-table{% if cansuggest and not cantranslate %} suggest-mode{% endif%}" dir="{% locale_dir %}">
      <thead>
        <tr lang="{{ LANGUAGE_CODE }}">
          <th colspan="1" rowspan="1" class="translate-table-title translate-original"></th>
          <th colspan="1" rowspan="1" class="translate-table-title translate-translation"></th>
        </tr>
      </thead>
      <tbody>
        {% comment %}
        {% for unit in units %}
        <tr id="row{{ unit.id }}" class="{% if unit == form.instance %}edit-row{% else %}view-row {% cycle 'even' 'odd' %}{% endif %}"{% if unit == form.instance %} colspan="2"{% endif %}>
          {% if unit == form.instance %}
            {% cache settings.CACHE_TIMEOUT unit_edit unit.id unit.mtime cantranslate cansuggest canreview alt_src_codes profile.id LANGUAGE_CODE %}
            {% render_unit_edit form %}
            {% endcache %}
          {% else %}
            {% cache settings.CACHE_TIMEOUT unit_view unit.id unit.mtime LANGUAGE_CODE %}
            {% render_unit_view unit %}
            {% endcache %}
          {% endif %}
        </tr>
        {% endfor %}
        {% endcomment %}
      </tbody>
    </table>
</div>
